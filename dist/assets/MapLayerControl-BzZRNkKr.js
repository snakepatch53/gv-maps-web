import{r as u,R as O,D as A,E as p,j as d}from"./index-D2Y8Up8g.js";function H(r,n){const e=u.useRef(n);u.useEffect(function(){n!==e.current&&r.attributionControl!=null&&(e.current!=null&&r.attributionControl.removeAttribution(e.current),n!=null&&r.attributionControl.addAttribution(n)),e.current=n},[r,n])}const G=1;function V(r){return Object.freeze({__version:G,map:r})}function x(r,n){return Object.freeze({...r,...n})}const z=u.createContext(null),j=z.Provider;function L(){const r=u.useContext(z);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function I(r){function n(e,t){const{instance:o,context:a}=r(e).current;return u.useImperativeHandle(t,()=>o),e.children==null?null:O.createElement(j,{value:a},e.children)}return u.forwardRef(n)}function Z(r){function n(e,t){const[o,a]=u.useState(!1),{instance:c}=r(e,a).current;u.useImperativeHandle(t,()=>c),u.useEffect(function(){o&&c.update()},[c,o,e.children]);const i=c._contentNode;return i?A.createPortal(e.children,i):null}return u.forwardRef(n)}function U(r){function n(e,t){const{instance:o}=r(e).current;return u.useImperativeHandle(t,()=>o),null}return u.forwardRef(n)}function W(r){return function(e){const t=L(),o=r(e,t),{instance:a}=o.current,c=u.useRef(e.position),{position:i}=e;return u.useEffect(function(){return a.addTo(t.map),function(){a.remove()}},[t.map,a]),u.useEffect(function(){i!=null&&i!==c.current&&(a.setPosition(i),c.current=i)},[a,i]),o}}function k(r,n){const e=u.useRef();u.useEffect(function(){return n!=null&&r.instance.on(n),e.current=n,function(){e.current!=null&&r.instance.off(e.current),e.current=null}},[r,n])}function R(r,n){const e=r.pane??n.pane;return e?{...r,pane:e}:r}function X(r,n){return function(t,o){const a=L(),c=r(R(t,a),a);return H(a.map,t.attribution),k(c.current,t.eventHandlers),n(c.current,a,t,o),c}}function C(r,n,e){return Object.freeze({instance:r,context:n,container:e})}function v(r,n){return n==null?function(t,o){const a=u.useRef();return a.current||(a.current=r(t,o)),a}:function(t,o){const a=u.useRef();a.current||(a.current=r(t,o));const c=u.useRef(t),{instance:i}=a.current;return u.useEffect(function(){c.current!==t&&(n(i,t,c.current),c.current=t)},[i,t,o]),a}}function S(r,n){u.useEffect(function(){return(n.layerContainer??n.map).addLayer(r.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(r.instance),n.map.removeLayer(r.instance)}},[n,r])}function _(r){return function(e){const t=L(),o=r(R(e,t),t);return H(t.map,e.attribution),k(o.current,e.eventHandlers),S(o.current,t),o}}function q(r,n){const e=u.useRef();u.useEffect(function(){if(n.pathOptions!==e.current){const o=n.pathOptions??{};r.instance.setStyle(o),e.current=o}},[r,n])}function F(r){return function(e){const t=L(),o=r(R(e,t),t);return k(o.current,e.eventHandlers),S(o.current,t),q(o.current,e),o}}function J(r,n){const e=v(r,n),t=_(e);return I(t)}function K(r,n){const e=v(r),t=X(e,n);return Z(t)}function Q(r,n){const e=v(r,n),t=F(e);return I(t)}function Y(r,n){const e=v(r,n),t=_(e);return U(t)}function $(r,n,e){const{opacity:t,zIndex:o}=n;t!=null&&t!==e.opacity&&r.setOpacity(t),o!=null&&o!==e.zIndex&&r.setZIndex(o)}const ee=v(function({children:n,...e},t){const o=new p.Control.Layers(void 0,void 0,e);return C(o,x(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),ne=W(ee),b=I(ne);function D(r){return function(e){const t=L(),o=u.useRef(e),[a,c]=u.useState(null),{layersControl:i,map:l}=t,s=u.useCallback(m=>{i!=null&&(o.current.checked&&l.addLayer(m),r(i,m,o.current.name),c(m))},[i,l]),y=u.useCallback(m=>{i==null||i.removeLayer(m),c(null)},[i]),P=u.useMemo(()=>x(t,{layerContainer:{addLayer:s,removeLayer:y}}),[t,s,y]);return u.useEffect(()=>{a!==null&&o.current!==e&&(e.checked===!0&&(o.current.checked==null||o.current.checked===!1)?l.addLayer(a):o.current.checked===!0&&(e.checked==null||e.checked===!1)&&l.removeLayer(a),o.current=e)}),e.children?O.createElement(j,{value:P},e.children):null}}b.BaseLayer=D(function(n,e,t){n.addBaseLayer(e,t)});b.Overlay=D(function(n,e,t){n.addOverlay(e,t)});function w(){return w=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},w.apply(this,arguments)}function te({bounds:r,boundsOptions:n,center:e,children:t,className:o,id:a,placeholder:c,style:i,whenReady:l,zoom:s,...y},P){const[m]=u.useState({className:o,id:a,style:i}),[f,N]=u.useState(null);u.useImperativeHandle(P,()=>(f==null?void 0:f.map)??null,[f]);const T=u.useCallback(M=>{if(M!==null&&f===null){const h=new p.Map(M,y);e!=null&&s!=null?h.setView(e,s):r!=null&&h.fitBounds(r,n),l!=null&&h.whenReady(l),N(V(h))}},[]);u.useEffect(()=>()=>{f==null||f.map.remove()},[f]);const B=f?O.createElement(j,{value:f},t):c??null;return O.createElement("div",w({},m,{ref:T}),B)}const oe=u.forwardRef(te),ue=J(function({position:n,...e},t){const o=new p.Marker(n,e);return C(o,x(t,{overlayContainer:o}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),ae=Q(function({positions:n,...e},t){const o=new p.Polyline(n,e);return C(o,x(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),ce=K(function(n,e){const t=new p.Popup(n,e.overlayContainer);return C(t,e)},function(n,e,{position:t},o){u.useEffect(function(){const{instance:c}=n;function i(s){s.popup===c&&(c.update(),o(!0))}function l(s){s.popup===c&&o(!1)}return e.map.on({popupopen:i,popupclose:l}),e.overlayContainer==null?(t!=null&&c.setLatLng(t),c.openOn(e.map)):e.overlayContainer.bindPopup(c),function(){var y;e.map.off({popupopen:i,popupclose:l}),(y=e.overlayContainer)==null||y.unbindPopup(),e.map.removeLayer(c)}},[n,e,o,t])}),E=Y(function({url:n,...e},t){const o=new p.TileLayer(n,R(e,t));return C(o,t)},function(n,e,t){$(n,e,t);const{url:o}=e;o!=null&&o!==t.url&&n.setUrl(o)}),{BaseLayer:g}=b;function ie(){return d.jsxs(b,{position:"topright",children:[d.jsx(g,{checked:!0,name:"Normal",children:d.jsx(E,{checked:!0,attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),d.jsx(g,{name:"Satélite",children:d.jsx(E,{url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),d.jsx(g,{name:"Light",children:d.jsx(E,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"})}),d.jsx(g,{name:"Dark",children:d.jsx(E,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"})})]})}export{oe as M,ce as P,ie as a,ue as b,ae as c,L as u};
