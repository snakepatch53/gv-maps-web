import{j as e,L as d,r as m,S as p,s as c,f as u,a as f,c as g,F as i,b as h,d as j,e as b}from"./index-GD4GLfx8.js";import{F as N,c as w,a as l,b as y,E as S}from"./index.esm-DMwvjeVK.js";function L(){return e.jsxs("div",{className:" flex flex-col justify-center items-center min-h-screen gap-3 ",children:[e.jsx("img",{src:"/logo.png",alt:"Logo de GV-Maps",className:"w-28 aspect-square mx-auto object-contain"}),e.jsx("h1",{className:" font-bold text-2xl ",children:"Login"}),e.jsx(E,{}),e.jsxs("label",{className:" flex gap-1 ",children:[e.jsx("p",{className:" opacity-80 ",children:"¿No tienes cuenta?"}),e.jsx(d,{className:" hover:underline font-bold opacity-80 ",to:"/register",children:"Regístrate"})]})]})}function E(){const{progress:a,login:n}=m.useContext(p);return e.jsx(N,{validationSchema:w({email:l().required("Ingrese su correo electrónico"),password:l().required("Ingrese su contraseña")}),initialValues:{email:"",password:""},onSubmit:(t,{resetForm:o})=>{n(t).then(s=>{if(console.log(s),!(s!=null&&s.success))return c({title:"Cancelado",message:(s==null?void 0:s.message)||"Error al iniciar sesion",type:"warning"});o(),c({title:"Sesión iniciada",message:"Bienvenido",type:"success"})})},children:({handleSubmit:t})=>e.jsxs("form",{onSubmit:t,className:" flex flex-col w-72  ",children:[e.jsx(r,{name:"email",placeholder:"Email",icon:u}),e.jsx(r,{name:"password",placeholder:"Contraseña",icon:f,isPass:!0}),e.jsx("button",{className:g(" p-3 bg-[--c1] text-[--c1-txt] rounded-lg font-bold tracking-wide hover:opacity-80 cursor-pointer transition ",a?"opacity-80 cursor-not-allowed":""),type:"submit",children:a?e.jsx(i,{className:" animate-spin ml-2 ",icon:h}):"Login"})]})})}function r({isPass:a=!1,name:n,placeholder:t,icon:o}){const[s,x]=m.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" flex items-center gap-2 bg-black/10 p-3 rounded-lg ",children:[e.jsx(i,{className:" opacity-70 ",icon:o}),e.jsx(y,{name:n,as:"input",className:" bg-transparent w-full text-lg ",type:a&&s===!1?"password":"text",placeholder:t}),a?e.jsx("button",{type:"button",onClick:()=>x(!s),children:e.jsx(i,{className:" opacity-80 ",icon:s?b:j})}):null]}),e.jsx("div",{className:" text-center w-full h-6 text-red-500 text-sm",children:e.jsx(S,{name:n})})]})}export{L as default};
