import{c as g,j as e,F as N,o as xe,p as he,q as je,v as J,w as pe,r as u,e as ge,d as be,x as ve,m as we,y as ye,s as h}from"./index-6Fz3NX-Z.js";function S({icon:t=null,text:s,type:a="normal",_type:l="button",tagType:n=1,tag:c="button",className:i="",classNameText:m="",classNameIcon:P="",classNameBeffore:$="",...x}){let j="";a=="normal"&&(j="bg-var[--color1-bg] text-[var(--color1-txt)]"),a=="new"&&(j="bg-[#00a65a] text-white"),a=="edit"&&(j="bg-[#037bfd] text-white"),a=="delete"&&(j="bg-[#dc3144] text-white"),a=="cancel"&&(j="bg-[#db5968] text-white");let F=g("relative group flex overflow-hidden w-auto h-8 gap-1 px-2 py-4 justify-center items-center rounded cursor-pointer",j,i),b=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:g("absolute bottom-0 left-[50%] translate-x-[-50%] w-0 h-0.5 bg-white duration-300 transition-all group-hover:w-full",$)}),t&&e.jsx(N,{icon:t,className:g("text-[0.65rem]",P)}),e.jsx("span",{className:g("text-sm",m),children:s})]});if(n==2)return e.jsx("a",{type:l,className:g(F,"cursor-pointer",i),...x,children:b});const z=c;return e.jsx(z,{type:l,className:g(F,i),...x,children:b})}function Pe({title:t,isOpen:s,onClickNew:a,icon:l=!1,searchValue:n,searchOnChange:c,rightButtonComponent:i=!1}){return e.jsxs("section",{className:"relative z-10 grid gap-4 grid-cols-1 md:grid-cols-4 lg:grid-cols-3 bg-[--c2] rounded-lg border-solid border-t-[3px] border-[var(--c1)] shadow-[0_2px_5px_0_rgba(0,0,0,0.3)]",style:{margin:"0",padding:s?"10px":"0",height:s?"auto":"0",opacity:s?"1":"0",overflow:s?"visible":"hidden"},children:[e.jsx("div",{className:"col-span-1 xl:col-span-1",children:e.jsxs("h3",{className:"flex gap-1 w-full h-full items-center justify-center md:justify-start font-content2 font-bold text-md text-[var(--c1)]",children:[l&&e.jsx(N,{icon:l,className:"text-sm mb-1"})," ",t]})}),e.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-1 flex w-full h-8 items-center rounded-md overflow-hidden border border-solid border-[--c1]",children:[e.jsxs("span",{className:"flex justify-center items-center h-full px-2 bg-[--c2] text-[--c1]",children:["Buscar:"," "]}),e.jsxs("div",{className:"flex items-center w-full h-full px-2 bg-[--c2]",children:[e.jsx(N,{icon:xe,className:"text-[--c1]"}),e.jsx("input",{type:"search",placeholder:"Busca por cualquier campo..",value:n,onChange:c,className:"w-full pl-1 bg-[--c2]"})]})]}),!i&&e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("div",{className:"w-full lg:w-24",children:e.jsx(S,{text:"Agregar",icon:he,type:"new",onClick:a,style:{width:"100%"}})})}),i&&e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("div",{className:"w-full lg:w-24",children:i})})]})}function V({cols:t=1,actionsNum:s}){return e.jsx("tr",{className:"relative bg-[var(--color6-bg)] rounded skeleton",children:e.jsxs(e.Fragment,{children:[Array(t).fill().map((a,l)=>e.jsx("td",{className:"h-full px-2",children:e.jsx(X,{})},l)),e.jsxs("td",{className:"td-action",children:[e.jsx("div",{className:"buttons-flex",children:new Array(s).fill().map((a,l)=>e.jsx(X,{className:"rounded-md"},l))}),e.jsx("div",{className:"brigth-animation absolute inset-0"})]})]})})}function X({className:t}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex-1 flex h-full rounded-full bg-[var(--color6-txt)] text-[var(--color6-txt)] min-w-20 "+t,children:"."})})}function $e({titles:t,isOpen:s,dataList:a,onRowPrint:l,actionsNum:n=2,actionText:c="Acción",classWrapper:i=""}){return e.jsx("section",{className:g("relative z-10 panel-crudtable-component",i,{open:s}),children:e.jsx("div",{className:"content_table ideatable scroll-style",children:e.jsxs("table",{border:"1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[t.map(m=>e.jsx("th",{children:m},m)),e.jsx("th",{children:c})]})}),e.jsxs("tbody",{children:[a&&a.map(m=>l(m)),!a&&e.jsxs(e.Fragment,{children:[e.jsx(V,{cols:t.length,actionsNum:n}),e.jsx(V,{cols:t.length,actionsNum:n}),e.jsx(V,{cols:t.length,actionsNum:n}),e.jsx(V,{cols:t.length,actionsNum:n})]})]})]})})})}function ze({value:t,classNameText:s=""}){return e.jsx("td",{children:e.jsx("span",{className:"td-span "+s,children:t})})}function Ie({src:t,alt:s}){return e.jsx("td",{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:t,className:"td-photo",alt:s})})})}function Ue({children:t}){return e.jsx("td",{className:"td-action",children:e.jsx("div",{className:"buttons-flex",children:t})})}function Ae({children:t,title:s,onClickCancel:a,isOpen:l,onSubmit:n,formRef:c,showSaveButton:i=!0,textCancel:m="Cancelar"}){return e.jsx("section",{className:"relative z-10 panel-crudform-component "+(l?"open":""),children:e.jsxs("form",{className:"ideaform",onSubmit:n,ref:c,noValidate:!0,children:[e.jsx("div",{className:"head",children:e.jsx("h3",{children:s})}),e.jsx("div",{className:"body",children:t}),e.jsxs("div",{className:"foot",children:[e.jsx("div",{className:"msg",id:"msg"}),e.jsxs("div",{className:"buttons",children:[i&&e.jsx(S,{text:"Guardar",icon:je,type:"edit",_type:"submit"}),e.jsx(S,{text:m,icon:J,type:"cancel",onClick:a})]})]})]})})}function qe({label:t,name:s,placeholder:a,type:l="text",required:n=!1,classNameWrapper:c="",...i}){return e.jsxs("div",{className:"campo "+c,children:[e.jsxs("span",{children:[t," ",n?e.jsx("b",{children:"*"}):"",":"]}),e.jsx(Ne,{type:l,name:s,placeholder:a,...i,required:n})]})}function Ne({radioOptions:t=[],...s}){const l=[{type:"file",Component:({accept:n="image/jpg"})=>e.jsxs("div",{className:"inputfile",children:[e.jsx("input",{className:"placeholder_off",accept:n,...s}),e.jsx(N,{icon:pe})]})},{type:"select",Component:()=>e.jsx("select",{...s,children:s.children})},{type:"textarea",Component:()=>e.jsx("textarea",{...s,className:"border-solid border border-gray-300 rounded-xm p-2 bg-white "+s.className})},{type:"password",Component:()=>{const[n,c]=u.useState(!0),i=()=>{c(!n)};return e.jsxs("div",{className:"inputpass ",children:[e.jsx("input",{...s,type:n?"password":"text"}),e.jsx("button",{type:"button",className:"ideabutton showpass flex justify-center items-center",onClick:i,children:e.jsx(N,{icon:n?ge:be})})]})}},{type:"radio",Component:()=>e.jsx("div",{className:"flex w-full rounded-sm overflow-hidden bg-white",style:{border:"solid 1px rgba(0, 0, 0, 0.2)"},children:t.map(({value:n,label:c,checked:i=!1})=>e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{...s,type:"radio",id:s.name+"-"+n,name:s.name,value:n,className:"hidden [&:checked~div]:w-full [&:checked~label]:opacity-100 [&:checked~label]:font-bold [&:checked~label]:text-[var(--info)] ",defaultChecked:i}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 m-auto w-0 h-0.5 bg-[var(--info)] transition-all duration-200"}),e.jsx("label",{htmlFor:s.name+"-"+n,className:"cursor-pointer flex w-full h-full justify-center text-center p-1 transition-all duration-200 opacity-80 hover:opacity-100 "+(s!=null&&s.disabled?"cursor-not-allowed opacity-40":""),children:c})]},n))})}].find(n=>n.type==s.type);return l?e.jsx(l.Component,{}):e.jsx("input",{...s})}function Me({isOpen:t,text:s,onClickDelete:a,onClickCancel:l}){return e.jsx("section",{className:"panel-crudconfirm-component "+(t?"open":""),onClick:n=>{n.target===n.currentTarget&&l()},children:e.jsxs("div",{className:"ideaconfirm",children:[e.jsxs("div",{className:"head",children:[e.jsx("p",{className:"msg",children:s}),e.jsx("button",{id:"modalClose",onClick:l,children:e.jsx(N,{icon:ve})})]}),e.jsxs("div",{className:"foot",children:[e.jsx(S,{text:"Cancelar",icon:J,type:"cancel",onClick:l,className:"bg-gray-500"}),e.jsx(S,{text:"Eliminar",icon:we,type:"delete",onClick:a})]})]})})}function Le({isOpen:t}){return e.jsx("section",{className:g("fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-black/50 w-full h-full opacity-0 max-w-0 max-h-0 overflow-hidden transition-all duration-300 ease-in-out",{"max-w-full max-h-full opacity-100":t}),children:e.jsxs("div",{className:"relative flex justify-center items-center w-full h-full",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),e.jsx("div",{className:"relative z-10  w-full h-full max-w-72 max-h-44 bg-white/80 rounded-md",children:e.jsx(ye,{classWrapper:"h-full"})})]})})}function Ce(t){if(t.length==10){let s=0,a=t.split("");for(let l=0;l<a.length;l++){let n=parseInt(a[l]);l%2==0?n*2>9?s+=n*2-9:s+=n*2:s+=n}return s%10==0}else return!1}function Se(t){return/\S+@\S+\.\S+/.test(t)}function Fe(t){return/^(ftp|http|https):\/\/[^ "]+$/.test(t)}function ke(t){return/^(tel|mailto):[^ "]+$/.test(t)}function Ee(t){var s=new FormData;for(let a in t)s.append(a,t[a]);return s}function W(t){var s={};return t.forEach((a,l)=>{s[l]=a}),s}function K(t,s,a=0){setTimeout(()=>{for(let l in t)if(s[l]){if(s[l].type=="file")continue;s[l].value=t[l]}},a)}function Te(t){let s={};for(let a in t)if(t[a]){if(t[a].type=="file")continue;s[a]=t[a].value}return s}function _e(t){let s={};for(let a in t)if(t[a]){if(t[a].type=="file"){s[a]=t[a].files[0];continue}s[a]=t[a].value}return s}function B(t,s=[]){const a=[];let l=!0;return t.querySelectorAll("input,select,textarea").forEach(c=>{c.required&&!s.includes(c.name)&&(c.value||(l=!1,a.push(c.name)))}),{isValidate:l,fails:a}}function Q(t){t.reset()}function Y(t){const s=new FormData(t),a=new FormData;for(let[l,n]of s.entries())n&&a.append(l,n);return a}const De=Object.freeze(Object.defineProperty({__proto__:null,ObjectToFormdata:Ee,formdataToObject:W,getFormDataFieldsNotVoid:Y,getValuesForm:Te,getValuesFormdata:_e,isCedula:Ce,isEmail:Se,isOtherUrl:ke,isUrl:Fe,isValidateRequired:B,resetForm:Q,setValuesForm:K},Symbol.toStringTag,{value:"Module"}));function We({entityName:t,pluralEntityName:s,excludeFieldsValidationEdit:a=[],extraValidations:l=()=>!0,isStorageMultipartFormData:n=!1,isUpdateMultipartFormData:c=!1,crudGet:i=null,crudStorage:m=null,crudUpdate:P=null,crudDestroy:$=null,gender:x=!0,searchFields:j=[]}){const[F,b]=u.useState(!0),[z,I]=u.useState(!0),[Z,U]=u.useState(!1),[G,A]=u.useState(!1),[ee,k]=u.useState(!1),H=()=>{b(!1),I(!1),U(!0),A(!1),k(!1)},E=()=>{b(!0),I(!0),U(!1),A(!1),k(!1)},te=()=>{b(!0),I(!0),U(!1),A(!0),k(!1)},v=r=>{k(r)},[w,y]=u.useState(null),[se,O]=u.useState(null),[T,ae]=u.useState(""),[p,q]=u.useState(null),M=u.useRef(null);u.useEffect(()=>{if(!i)return y([]);i().then(r=>y(r))},[i]),u.useEffect(()=>{if(!T)return O(null);const r=T.toLowerCase(),d=w.filter(o=>{var _,C,D;let f=!1;for(const R of j){const L=o[R]?o[R].toString().toLowerCase():"";if(R.includes(".")){const[fe,me]=R.split(".");(C=(_=o[fe][me])==null?void 0:_.toLowerCase())!=null&&C.includes(r)&&(f=!0)}else(D=L==null?void 0:L.toLowerCase())!=null&&D.includes(r)&&(f=!0)}return f});O(d)},[T]);function le(){H(),q(null),Q(M.current)}function ne(r){H(),q(r),K(r,M.current,100)}function re(r){te(),q(r)}function ie(){E(),h({title:"Cancelado",message:"Se cancelo la operación",type:"warning"})}function ce(r){r.preventDefault();const d=r.target;let o=B(d);if(p&&(o=B(d,a)),!o.isValidate)return h({title:"Error de validación",message:"Complete los campos requeridos (*)",type:"warning"});if(!l(d,Re,De))return;const f=Y(d);return v(!0),p?de(f):oe(f)}function oe(r){let d=r;n||(d=W(r)),m({data:d}).then(o=>{if(v(!1),o!=null&&o.success){const f=o.data;y([...w,f]),h({title:"Exito",message:`${t} cread${x?"o":"a"} correctamente`,type:"success"}),E()}else h({title:"Error desde el servidor",message:o.message||`"Error al crear ${x?"el":"la"} ${t}`,type:"danger"})})}function de(r){let d=r;c||(d=W(r)),P({id:p.id,data:d}).then(o=>{if(v(!1),o!=null&&o.success){const f=o.data,_=w.findIndex(D=>D.id===f.id),C=[...w];C[_]=f,y(C),h({title:"Exito",message:`${t} actualizad${x?"o":"a"} correctamente`,type:"success"}),E()}else h({title:"Error desde el servidor",message:o.message||`Error al actualizar ${x?"el":"la"} ${t}`,type:"danger"})})}function ue(){if(!(p!=null&&p.id))return h({title:"Error de validación",message:`Seleccione ${x?"un":"una"} ${t} a eliminar`,type:"danger"});v(!0),$({id:p.id}).then(r=>{if(v(!1),r!=null&&r.success){const d=w.filter(o=>o.id!==p.id);y(d),h({title:"Exito",message:`${t} eliminad${x?"o":"a"} correctamente`,type:"success"})}else h({title:"Error desde el servidor",message:(r==null?void 0:r.message)||`Error al eliminar ${x?"el":"la"} ${t}`,type:"danger"});E()})}return{entityName:t,pluralEntityName:s,head:F,table:z,form:Z,confirm:G,progress:ee,datalist:se||w,$form:M,searchValue:T,handleModeNew:le,handleModeEdit:ne,handleModeDelete:re,hanleCancel:ie,handleSubmit:ce,handleDelete:ue,searchOnChange:({target:r})=>ae(r.value),showProgress:v,updateDatalist:r=>y(r)}}function Re(t){h({title:"Error de validación",message:t,type:"warning"})}export{S as B,Pe as C,$e as a,Ie as b,ze as c,Ue as d,Ae as e,qe as f,Me as g,Le as h,We as u};
