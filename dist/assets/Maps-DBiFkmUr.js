import{g as t,j as e,P as w,k as O,L as P,n as T,l as q,m as D}from"./index-CMEuing7.js";import{u as A,C as S,a as F,c as o,d as U,B as i,e as L,f as s,g as B,h as I}from"./useCrudPanel-ByPjpjJc.js";const n="maps";function R(r){return r.map(({...l})=>({...l}))}async function V(){const r=await t({resource:n+"?includeUser=true&includeUserEntity=true"});return R(r)}async function $({data:r}){return await t({resource:n,data:r,method:"POST",all:!0,formData:!0})}async function G({id:r,data:l}){return await t({resource:n+"/"+r,data:l,method:"POST",all:!0,formData:!0})}async function H({id:r}){return await t({resource:n+"/"+r,method:"DELETE",all:!0})}function K(){const{entityName:r,pluralEntityName:l,head:d,table:b,form:h,confirm:C,progress:f,datalist:j,$form:y,handleModeNew:E,handleModeEdit:u,handleModeDelete:g,hanleCancel:c,handleSubmit:v,handleDelete:k,searchValue:M,searchOnChange:N}=A({entityName:"Mapa",pluralEntityName:"Mapas",searchFields:["name"],crudGet:V,crudStorage:$,crudUpdate:G,crudDestroy:H});return e.jsxs(w,{className:" flex flex-col gap-7 w-full p-10 ",children:[e.jsx(S,{title:l,icon:O,isOpen:d,onClickNew:E,searchValue:M,searchOnChange:N}),e.jsx(F,{titles:["Nombre","Empresa","Usuario"],dataList:j,isOpen:b,onRowPrint:a=>{var p,m,x;return e.jsxs("tr",{children:[e.jsx(o,{value:a.name}),e.jsx(o,{value:(m=(p=a==null?void 0:a.user)==null?void 0:p.entity)==null?void 0:m.name}),e.jsx(o,{value:(x=a==null?void 0:a.user)==null?void 0:x.name}),e.jsxs(U,{children:[e.jsx(i,{tag:P,to:`/panel/map/${a.id}`,text:"Abrir",icon:T,type:"edit",className:" bg-[#5849be] ",onClick:()=>u(a)}),e.jsx(i,{text:"Editar",icon:q,type:"edit",onClick:()=>u(a)}),e.jsx(i,{text:"Borrar",icon:D,type:"delete",onClick:()=>g(a)})]})]},a.id)}}),e.jsxs(L,{title:r,isOpen:h,onClickCancel:c,onSubmit:v,formRef:y,children:[e.jsx(s,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(s,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(s,{label:"Celular",placeholder:"Escriba su numero de celular",name:"phone",required:!0}),e.jsx(s,{label:"Direccion",placeholder:"Escriba una direccion",name:"address",required:!0}),e.jsx(s,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(s,{label:"Contraseña",placeholder:"Escriba la contraseña",type:"password",name:"password",required:!0}),e.jsx(s,{name:"role",label:"Privilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador",checked:!0},{value:"Vendedor",label:"Vendedor"},{value:"Cliente",label:"Cliente"}],required:!0}),e.jsx(s,{name:"state",label:"Estado",type:"radio",radioOptions:[{value:"Activo",label:"Activo",checked:!0},{value:"Inactivo",label:"Inactivo"}],required:!0}),e.jsx(s,{label:"Foto",name:"photo",type:"file"})]}),e.jsx(B,{isOpen:C,text:"¿Seguro de eliminar este usuario?",onClickDelete:k,onClickCancel:c}),e.jsx(I,{isOpen:f,text:"Procesando tu solicitud..."})]})}export{K as default};
